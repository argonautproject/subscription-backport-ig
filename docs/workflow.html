<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>HL7.FHIR.UV.SUBSCRIPTIONS-BACKPORT\Workflow - FHIR v4.1.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link rel="stylesheet" href="fhir.css"/>

      <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>

      <!-- Project extras -->
    <link rel="stylesheet" href="assets/css/project.css"/>
    <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
    <link rel="stylesheet" href="assets/css/jquery-ui.css"/>
  	<link rel="stylesheet" href="assets/css/prism.css"/>
      <!-- Placeholder for child template CSS declarations -->
    <link rel="stylesheet" href="assets/css/hl7.css"/>
    <link rel="stylesheet" href="assets/css/fhir.css"/>

    <script src="fhir-table-scripts.js" type="text/javascript"> </script>

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- [if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif] -->

      <!-- Favicons -->
    <link sizes="144x144" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link sizes="114x114" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link sizes="72x72" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"3.3"}
    h3,h4,h5,h6{--heading-prefix:"3.3"}</style>
    <div id="segment-header" class="segment">    <!-- segment-header -->
      <div class="container">    <!-- container -->
          <!-- Placeholder for child template header declarations -->

        <div id="hl7-nav">
          <a no-external="true" id="hl7-logo" href="http://hl7.org">
            <img src="assets/images/hl7-logo-header.png" alt="Visit the HL7 website" height="50"/>
          </a>
        </div>
        <div id="family-nav">
          <a no-external="true" id="family-logo" href="http://hl7.org/fhir"><img src="assets/images/fhir-logo-www.png" alt="Visit the FHIR website" height="50"/> </a>
        </div>
        <div id="hl7-search">
          <a no-external="true" id="hl7-search-lnk" href="searchform.html"><img src="assets/images/search.png" alt="Search FHIR"/></a>
        </div>


        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Subscriptions R5 Backport</span><br/>0.1.0 - ballot</p>
        </div>
      </div>   <!-- /container -->
    </div>    <!-- /segment-header -->

    <div id="segment-navbar" class="segment">    <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">    <!-- container -->
          <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
            <!-- status-bar -->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a href="http://build.fhir.org/index.html" class="navbar-brand hidden">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml -->

<ul class="nav navbar-nav">
  <li>
    <a href="index.html">IG Home</a>
  </li>
  <li>
    <a href="toc.html">Contents</a>
  </li>
  <li>
    <a href="background.html">Background</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Specification
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="actors.html">Actors</a>
      </li>
      <li>
        <a href="components.html">Topic-Based Subscription Components</a>
      </li>
      <li>
        <a href="workflow.html">Workflow</a>
      </li>
      <li>
        <a href="channels.html">Channels</a>
      </li>
      <li>
        <a href="notifications.html">Notifications</a>
      </li>
      <li>
        <a href="payloads.html">Payload Types</a>
      </li>
      <li>
        <a href="conformance.html">Conformance</a>
      </li>
      <li>
        <a href="errors.html">Handling Errors</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="safety_security.html">Safety and Security</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Artifacts
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="artifacts.html#1">Capability Statements</a>
      </li>
      <li>
        <a href="artifacts.html#2">Operations</a>
      </li>
      <li>
        <a href="artifacts.html#3">Profiles</a>
      </li>
      <li>
        <a href="artifacts.html#4">Extensions</a>
      </li>
      <li>
        <a href="artifacts.html#5">Value Sets</a>
      </li>
      <li>
        <a href="artifacts.html#7">Examples</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="downloads.html">Downloads</a>
  </li>
</ul>
            </div>    <!-- /.nav-collapse -->
          </div>    <!-- /.container -->
        </nav>    <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
      </div>    <!-- /container -->
    </div>    <!-- /segment-navbar -->
      <!-- status-bar -->

    <div id="segment-breadcrumb" class="segment">    <!-- segment-breadcrumb -->
      <div class="container">    <!-- container -->
        <ul class="breadcrumb">
          <li><a href="toc.html"><b>Table of Contents</b></a></li><li><a href="specification.html"><b>Specification</b></a></li><li><b>Workflow</b></li>

        </ul>
      </div>    <!-- /container -->
    </div>    <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">    <!-- segment-content -->
      <div class="container">    <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
    <!-- ReleaseHeader --><p id="publish-box">Subscriptions R5 Backport - Local Development build (v0.1.0). See the <a href="http://hl7.org/fhir/uv/subscriptions-backport/history.html">Directory of published versions</a></p>  <!-- EndReleaseHeader -->
  <h2>Workflow</h2>
  









    <p>  <!-- white space is critical inside of capture --></p>
<div>
  <!-- do not remove - needed to prevent Jekyll from adding a p tag to any non block level element in the markdown. -->
</div>

<p>This section gives an overview of the workflow for both Servers and Clients to work with Subscriptions.  Each <a href="channels.html">channel</a> MAY vary slightly from this general overview - specifically around interactions involving the <code class="language-plaintext highlighter-rouge">Endpoint</code> (e.g., when using a <code class="language-plaintext highlighter-rouge">rest-hook</code> the client must pre-configure an HTTP endpoint which the server validates, but when using <code class="language-plaintext highlighter-rouge">websockets</code> the client simply connects to the server).</p>

<h3 id="creating-a-subscription">Creating a Subscription</h3>

<p>A workflow for creating a subscription is below:</p>

<figure>
    <!-- ?xml version="1.0" encoding="UTF-8" standalone="no"? --><svg contentStyleType="text/css" viewBox="0 0 883 1374" zoomAndPan="magnify" preserveAspectRatio="none" width="883px" style="width:883px;height:1374px;" contentScriptType="application/ecmascript" version="1.1" height="1374px"><defs><filter width="300%" x="-1" y="-1" id="f17y65kn0bwf3v" height="300%"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix result="blurOut2" in="blurOut" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" type="matrix"></feColorMatrix><feOffset result="blurOut3" dx="4.0" dy="4.0" in="blurOut2"></feOffset><feBlend mode="normal" in="SourceGraphic" in2="blurOut3"></feBlend></filter></defs><g><rect filter="url(#f17y65kn0bwf3v)" width="856.5" x="10" y="527.9121" style="stroke:#000000;stroke-width:2.0;" fill="#FFFFFF" height="781"></rect><rect width="856.5" x="10" y="550.2637" style="stroke:none;stroke-width:1.0;" fill="#FFFFFF" height="131.1611"></rect><rect width="856.5" x="10" y="681.4248" style="stroke:none;stroke-width:1.0;" fill="#FFFFFF" height="278.1631"></rect><rect width="856.5" x="10" y="959.5879" style="stroke:none;stroke-width:1.0;" fill="#FFFFFF" height="233.8115"></rect><rect width="856.5" x="10" y="1193.3994" style="stroke:none;stroke-width:1.0;" fill="#FFFFFF" height="115.5127"></rect><line y1="45.6094" x1="119" y2="649.4248" style="stroke:#A80036;stroke-width:1.0;" x2="119"></line><line y1="649.4248" x1="119" y2="681.4248" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="119"></line><line y1="681.4248" x1="119" y2="927.5879" style="stroke:#A80036;stroke-width:1.0;" x2="119"></line><line y1="927.5879" x1="119" y2="959.5879" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="119"></line><line y1="959.5879" x1="119" y2="1161.3994" style="stroke:#A80036;stroke-width:1.0;" x2="119"></line><line y1="1161.3994" x1="119" y2="1193.3994" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="119"></line><line y1="1193.3994" x1="119" y2="1325.9121" style="stroke:#A80036;stroke-width:1.0;" x2="119"></line><line y1="45.6094" x1="467.5" y2="649.4248" style="stroke:#A80036;stroke-width:1.0;" x2="467.5"></line><line y1="649.4248" x1="467.5" y2="681.4248" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="467.5"></line><line y1="681.4248" x1="467.5" y2="927.5879" style="stroke:#A80036;stroke-width:1.0;" x2="467.5"></line><line y1="927.5879" x1="467.5" y2="959.5879" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="467.5"></line><line y1="959.5879" x1="467.5" y2="1161.3994" style="stroke:#A80036;stroke-width:1.0;" x2="467.5"></line><line y1="1161.3994" x1="467.5" y2="1193.3994" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="467.5"></line><line y1="1193.3994" x1="467.5" y2="1325.9121" style="stroke:#A80036;stroke-width:1.0;" x2="467.5"></line><line y1="429.2354" x1="767.5" y2="649.4248" style="stroke:#A80036;stroke-width:1.0;" x2="767.5"></line><line y1="649.4248" x1="767.5" y2="681.4248" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="767.5"></line><line y1="681.4248" x1="767.5" y2="927.5879" style="stroke:#A80036;stroke-width:1.0;" x2="767.5"></line><line y1="927.5879" x1="767.5" y2="959.5879" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="767.5"></line><line y1="959.5879" x1="767.5" y2="1161.3994" style="stroke:#A80036;stroke-width:1.0;" x2="767.5"></line><line y1="1161.3994" x1="767.5" y2="1193.3994" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="767.5"></line><line y1="1193.3994" x1="767.5" y2="1325.9121" style="stroke:#A80036;stroke-width:1.0;" x2="767.5"></line><rect filter="url(#f17y65kn0bwf3v)" width="95" x="70" y="5" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="79" font-size="14" textLength="77" y="28.5332" font-family="sans-serif" fill="#000000">FHIR Server</text><rect filter="url(#f17y65kn0bwf3v)" width="95" x="70" y="1324.9121" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="79" font-size="14" textLength="77" y="1348.4453" font-family="sans-serif" fill="#000000">FHIR Server</text><rect filter="url(#f17y65kn0bwf3v)" width="54" x="438.5" y="5" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="447.5" font-size="14" textLength="36" y="28.5332" font-family="sans-serif" fill="#000000">Client</text><rect filter="url(#f17y65kn0bwf3v)" width="54" x="438.5" y="1324.9121" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="447.5" font-size="14" textLength="36" y="1348.4453" font-family="sans-serif" fill="#000000">Client</text><rect filter="url(#f17y65kn0bwf3v)" width="74" x="728.5" y="1324.9121" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="737.5" font-size="14" textLength="56" y="1348.4453" font-family="sans-serif" fill="#000000">Endpoint</text><rect filter="url(#f17y65kn0bwf3v)" width="876.5" x="0" y="78.7852" style="stroke:#EEEEEE;stroke-width:1.0;" fill="#EEEEEE" height="3"></rect><line y1="78.7852" x1="0" y2="78.7852" style="stroke:#000000;stroke-width:1.0;" x2="876.5"></line><line y1="81.7852" x1="0" y2="81.7852" style="stroke:#000000;stroke-width:1.0;" x2="876.5"></line><rect filter="url(#f17y65kn0bwf3v)" width="260" x="308.25" y="65.6094" style="stroke:#000000;stroke-width:2.0;" fill="#EEEEEE" height="28.3516"></rect><text font-weight="bold" lengthAdjust="spacing" x="316.25" font-size="13" textLength="238" y="85.1045" font-family="sans-serif" fill="#000000">Server Implementation (precondition)</text><path filter="url(#f17y65kn0bwf3v)" d="M124,108.9609 L124,138.9609 L398,138.9609 L398,118.9609 L388,108.9609 L124,108.9609 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M388,108.9609 L388,118.9609 L398,118.9609 L388,108.9609 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text font-weight="bold" lengthAdjust="spacing" x="132" font-size="13" textLength="7" y="129.4561" font-family="sans-serif" fill="#000000">1</text><text lengthAdjust="spacing" x="143" font-size="13" textLength="238" y="129.4561" font-family="sans-serif" fill="#000000">Implement core Subscription functionality</text><path filter="url(#f17y65kn0bwf3v)" d="M124,153.3125 L124,183.3125 L494,183.3125 L494,163.3125 L484,153.3125 L124,153.3125 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M484,153.3125 L484,163.3125 L494,163.3125 L484,153.3125 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text font-weight="bold" lengthAdjust="spacing" x="132" font-size="13" textLength="7" y="174.4297" font-family="sans-serif" fill="#000000">2</text><text lengthAdjust="spacing" x="143" font-size="13" textLength="133" y="174.4297" font-family="sans-serif" fill="#000000">Implement one or more</text><text lengthAdjust="spacing" x="280" font-size="13" textLength="136" y="173.3823" font-family="monospace" fill="#000000">SubscriptionTopic</text><text lengthAdjust="spacing" x="420" font-size="13" textLength="57" y="174.4297" font-family="sans-serif" fill="#000000">resources</text><rect filter="url(#f17y65kn0bwf3v)" width="876.5" x="0" y="216.4619" style="stroke:#EEEEEE;stroke-width:1.0;" fill="#EEEEEE" height="3"></rect><line y1="216.4619" x1="0" y2="216.4619" style="stroke:#000000;stroke-width:1.0;" x2="876.5"></line><line y1="219.4619" x1="0" y2="219.4619" style="stroke:#000000;stroke-width:1.0;" x2="876.5"></line><rect filter="url(#f17y65kn0bwf3v)" width="121" x="377.75" y="203.2861" style="stroke:#000000;stroke-width:2.0;" fill="#EEEEEE" height="28.3516"></rect><text font-weight="bold" lengthAdjust="spacing" x="385.75" font-size="13" textLength="99" y="222.7813" font-family="sans-serif" fill="#000000">Finding a Topic</text><line y1="285.585" x1="119.5" y2="281.585" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="285.585" x1="119.5" y2="289.585" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="285.585" x1="119.5" y2="285.585" style="stroke:#A80036;stroke-width:1.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="138.5" font-size="13" textLength="7" y="269.9307" font-family="sans-serif" fill="#000000">3</text><text lengthAdjust="spacing" x="153.5" font-size="13" textLength="131" y="261.7549" font-family="sans-serif" fill="#000000">Search for a supported</text><text lengthAdjust="spacing" x="288.5" font-size="13" textLength="136" y="260.7075" font-family="monospace" fill="#000000">SubscriptionTopic</text><text lengthAdjust="spacing" x="424.5" font-size="13" textLength="34" y="261.7549" font-family="sans-serif" fill="#000000">, e.g.:</text><text lengthAdjust="spacing" x="153.5" font-size="13" textLength="272" y="277.6812" font-family="monospace" fill="#000000">GET&nbsp;.../SubscriptionTopic?[params]</text><line y1="337.5322" x1="465.5" y2="333.5322" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="337.5322" x1="465.5" y2="341.5322" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="337.5322" x1="119.5" y2="337.5322" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="7" y="321.8779" font-family="sans-serif" fill="#000000">4</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="48" y="312.6548" font-family="monospace" fill="#000000">Bundle</text><text lengthAdjust="spacing" x="195.5" font-size="13" textLength="80" y="313.7021" font-family="sans-serif" fill="#000000">with matching</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="136" y="329.6284" font-family="monospace" fill="#000000">SubscriptionTopic</text><text lengthAdjust="spacing" x="283.5" font-size="13" textLength="57" y="330.6758" font-family="sans-serif" fill="#000000">resources</text><rect filter="url(#f17y65kn0bwf3v)" width="876.5" x="0" y="368.708" style="stroke:#EEEEEE;stroke-width:1.0;" fill="#EEEEEE" height="3"></rect><line y1="368.708" x1="0" y2="368.708" style="stroke:#000000;stroke-width:1.0;" x2="876.5"></line><line y1="371.708" x1="0" y2="371.708" style="stroke:#000000;stroke-width:1.0;" x2="876.5"></line><rect filter="url(#f17y65kn0bwf3v)" width="190" x="343.25" y="355.5322" style="stroke:#000000;stroke-width:2.0;" fill="#EEEEEE" height="28.3516"></rect><text font-weight="bold" lengthAdjust="spacing" x="351.25" font-size="13" textLength="168" y="375.0273" font-family="sans-serif" fill="#000000">Negotiating a Subscription</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="716.5,432.5869,726.5,436.5869,716.5,440.5869,720.5,436.5869"></polygon><line y1="436.5869" x1="467.5" y2="436.5869" style="stroke:#A80036;stroke-width:1.0;" x2="722.5"></line><text font-weight="bold" lengthAdjust="spacing" x="476.5" font-size="13" textLength="7" y="421.5547" font-family="sans-serif" fill="#000000">5</text><text lengthAdjust="spacing" x="491.5" font-size="13" textLength="168" y="413.3789" font-family="sans-serif" fill="#000000">Create, configure, or initialize</text><text lengthAdjust="spacing" x="491.5" font-size="13" textLength="137" y="429.7305" font-family="sans-serif" fill="#000000">the necessary Endpoint</text><rect filter="url(#f17y65kn0bwf3v)" width="74" x="728.5" y="393.9775" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="737.5" font-size="14" textLength="56" y="417.5107" font-family="sans-serif" fill="#000000">Endpoint</text><line y1="487.9121" x1="119.5" y2="483.9121" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="487.9121" x1="119.5" y2="491.9121" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="487.9121" x1="119.5" y2="487.9121" style="stroke:#A80036;stroke-width:1.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="138.5" font-size="13" textLength="7" y="472.5688" font-family="sans-serif" fill="#000000">6</text><text lengthAdjust="spacing" x="153.5" font-size="13" textLength="159" y="464.082" font-family="sans-serif" fill="#000000">Create a Subscription, e.g.:</text><text lengthAdjust="spacing" x="153.5" font-size="13" textLength="168" y="480.0083" font-family="monospace" fill="#000000">POST&nbsp;.../Subscription</text><path d="M10,527.9121 L203,527.9121 L203,539.9121 L193,549.9121 L10,549.9121 L10,527.9121 " style="stroke:#000000;stroke-width:1.0;" fill="#EEEEEE"></path><rect width="856.5" x="10" y="527.9121" style="stroke:#000000;stroke-width:2.0;" fill="none" height="781"></rect><text font-weight="bold" lengthAdjust="spacing" x="27" font-size="13" textLength="144" y="544.4072" font-family="sans-serif" fill="#000000">Accepting or Rejecting</text><line y1="551.2637" x1="10" y2="551.2637" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="866.5"></line><text font-weight="bold" lengthAdjust="spacing" x="17" font-size="11" textLength="220" y="564.6826" font-family="sans-serif" fill="#000000">[Valid Subscription, without Handshake]</text><line y1="597.0732" x1="465.5" y2="593.0732" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="597.0732" x1="465.5" y2="601.0732" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="597.0732" x1="119.5" y2="597.0732" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="7" y="589.9058" font-family="sans-serif" fill="#000000">7</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="107" y="590.2168" font-family="sans-serif" fill="#000000">Success: status =</text><text lengthAdjust="spacing" x="254.5" font-size="13" textLength="48" y="589.1694" font-family="monospace" fill="#000000">active</text><path filter="url(#f17y65kn0bwf3v)" d="M124,610.0732 L124,640.0732 L264,640.0732 L264,620.0732 L254,610.0732 L124,610.0732 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M254,610.0732 L254,620.0732 L264,620.0732 L254,610.0732 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="132" font-size="13" textLength="115" y="630.5684" font-family="sans-serif" fill="#000000">Send notifications...</text><line y1="682.4248" x1="10" y2="682.4248" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="866.5"></line><text font-weight="bold" lengthAdjust="spacing" x="17" font-size="11" textLength="252" y="695.8438" font-family="sans-serif" fill="#000000">[Valid Subscription, with Handshake Success]</text><line y1="728.2344" x1="465.5" y2="724.2344" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="728.2344" x1="465.5" y2="732.2344" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="728.2344" x1="119.5" y2="728.2344" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="7" y="721.0669" font-family="sans-serif" fill="#000000">8</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="107" y="721.3779" font-family="sans-serif" fill="#000000">Success: status =</text><text lengthAdjust="spacing" x="254.5" font-size="13" textLength="72" y="720.3306" font-family="monospace" fill="#000000">requested</text><line y1="762.5859" x1="765.5" y2="758.5859" style="stroke:#A80036;stroke-width:1.0;" x2="755.5"></line><line y1="762.5859" x1="765.5" y2="766.5859" style="stroke:#A80036;stroke-width:1.0;" x2="755.5"></line><line y1="762.5859" x1="119.5" y2="762.5859" style="stroke:#A80036;stroke-width:1.0;" x2="766.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="7" y="755.7295" font-family="sans-serif" fill="#000000">9</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="65" y="755.7295" font-family="sans-serif" fill="#000000">Handshake</text><line y1="813.9111" x1="119.5" y2="809.9111" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="813.9111" x1="119.5" y2="817.9111" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="813.9111" x1="119.5" y2="813.9111" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="766.5"></line><text font-weight="bold" lengthAdjust="spacing" x="138.5" font-size="13" textLength="14" y="798.5679" font-family="sans-serif" fill="#000000">10</text><text lengthAdjust="spacing" x="160.5" font-size="13" textLength="85" y="790.0811" font-family="sans-serif" fill="#000000">Success, e.g.:</text><text lengthAdjust="spacing" x="160.5" font-size="13" textLength="56" y="806.0073" font-family="monospace" fill="#000000">200:&nbsp;OK</text><path filter="url(#f17y65kn0bwf3v)" d="M124,826.9111 L124,873.9111 L357,873.9111 L357,836.9111 L347,826.9111 L124,826.9111 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M347,826.9111 L347,836.9111 L357,836.9111 L347,826.9111 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="132" font-size="13" textLength="121" y="847.4063" font-family="sans-serif" fill="#000000">Update Subscription:</text><text lengthAdjust="spacing" x="132" font-size="13" textLength="208" y="863.3325" font-family="monospace" fill="#000000">Subscription.status:&nbsp;error</text><path filter="url(#f17y65kn0bwf3v)" d="M124,888.2363 L124,918.2363 L264,918.2363 L264,898.2363 L254,888.2363 L124,888.2363 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M254,888.2363 L254,898.2363 L264,898.2363 L254,888.2363 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="132" font-size="13" textLength="115" y="908.7314" font-family="sans-serif" fill="#000000">Send notifications...</text><line y1="960.5879" x1="10" y2="960.5879" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="866.5"></line><text font-weight="bold" lengthAdjust="spacing" x="17" font-size="11" textLength="242" y="974.0068" font-family="sans-serif" fill="#000000">[Valid Subscription, with Handshake Failure]</text><line y1="1006.3975" x1="465.5" y2="1002.3975" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="1006.3975" x1="465.5" y2="1010.3975" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="1006.3975" x1="119.5" y2="1006.3975" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="14" y="999.23" font-family="sans-serif" fill="#000000">11</text><text lengthAdjust="spacing" x="150.5" font-size="13" textLength="107" y="999.541" font-family="sans-serif" fill="#000000">Success: status =</text><text lengthAdjust="spacing" x="261.5" font-size="13" textLength="72" y="998.4937" font-family="monospace" fill="#000000">requested</text><line y1="1040.749" x1="765.5" y2="1036.749" style="stroke:#A80036;stroke-width:1.0;" x2="755.5"></line><line y1="1040.749" x1="765.5" y2="1044.749" style="stroke:#A80036;stroke-width:1.0;" x2="755.5"></line><line y1="1040.749" x1="119.5" y2="1040.749" style="stroke:#A80036;stroke-width:1.0;" x2="766.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="14" y="1033.8926" font-family="sans-serif" fill="#000000">12</text><text lengthAdjust="spacing" x="150.5" font-size="13" textLength="65" y="1033.8926" font-family="sans-serif" fill="#000000">Handshake</text><line y1="1092.0742" x1="119.5" y2="1088.0742" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="1092.0742" x1="119.5" y2="1096.0742" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="1092.0742" x1="119.5" y2="1092.0742" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="766.5"></line><text font-weight="bold" lengthAdjust="spacing" x="138.5" font-size="13" textLength="14" y="1076.731" font-family="sans-serif" fill="#000000">13</text><text lengthAdjust="spacing" x="160.5" font-size="13" textLength="73" y="1068.2441" font-family="sans-serif" fill="#000000">Failure, e.g.:</text><text lengthAdjust="spacing" x="160.5" font-size="13" textLength="112" y="1084.1704" font-family="monospace" fill="#000000">404:&nbsp;Not&nbsp;Found</text><path filter="url(#f17y65kn0bwf3v)" d="M124,1105.0742 L124,1152.0742 L357,1152.0742 L357,1115.0742 L347,1105.0742 L124,1105.0742 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M347,1105.0742 L347,1115.0742 L357,1115.0742 L347,1105.0742 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="132" font-size="13" textLength="121" y="1125.5693" font-family="sans-serif" fill="#000000">Update Subscription:</text><text lengthAdjust="spacing" x="132" font-size="13" textLength="208" y="1141.4956" font-family="monospace" fill="#000000">Subscription.status:&nbsp;error</text><line y1="1194.3994" x1="10" y2="1194.3994" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="866.5"></line><text font-weight="bold" lengthAdjust="spacing" x="17" font-size="11" textLength="116" y="1207.8184" font-family="sans-serif" fill="#000000">[Invalid Subscription]</text><line y1="1256.5605" x1="465.5" y2="1252.5605" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="1256.5605" x1="465.5" y2="1260.5605" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="1256.5605" x1="119.5" y2="1256.5605" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="14" y="1241.2173" font-family="sans-serif" fill="#000000">14</text><text lengthAdjust="spacing" x="150.5" font-size="13" textLength="73" y="1232.7305" font-family="sans-serif" fill="#000000">Failure, e.g.:</text><text lengthAdjust="spacing" x="150.5" font-size="13" textLength="128" y="1248.6567" font-family="monospace" fill="#000000">400:&nbsp;Bad&nbsp;Request</text><path filter="url(#f17y65kn0bwf3v)" d="M124,1269.5605 L124,1299.5605 L313,1299.5605 L313,1279.5605 L303,1269.5605 L124,1269.5605 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M303,1269.5605 L303,1279.5605 L313,1279.5605 L303,1269.5605 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="132" font-size="13" textLength="164" y="1290.0557" font-family="sans-serif" fill="#000000">No subscription was created</text></g></svg>
  <figcaption>Sequence diagram of creating a FHIR Subscription</figcaption>
</figure>

<ol>
  <li>Server implements the core functionality required for subscriptions (see <a href="conformance.html">Conformance</a>).</li>
  <li>Server implements one or more <a href="http://hl7.org/fhir/R4/subscriptiontopic.html">SubscriptionTopic</a> resources.  Implementation is specific to each topic, and will vary between servers.</li>
  <li>Client asks the server for the list of supported <a href="http://hl7.org/fhir/R4/subscriptiontopic.html">SubscriptionTopic</a> resources, via querying the resource.</li>
  <li>Server responds with a <a href="http://hl7.org/fhir/R4/bundle.html#searchset">searchset Bundle</a>.</li>
  <li>Client ensures that the endpoint is prepared (if applicable - see <a href="channels.html">Channels</a>).</li>
  <li>Client requests a <a href="http://hl7.org/fhir/R4/subscription.html">Subscription</a> (e.g., via <code class="language-plaintext highlighter-rouge">POST</code>, <code class="language-plaintext highlighter-rouge">PUT</code>, etc.).</li>
  <li>Server MAY accept the <a href="http://hl7.org/fhir/R4/subscription.html">Subscription</a> request (e.g., supported channel and payload).</li>
  <li>Server MAY reject the <a href="http://hl7.org/fhir/R4/subscription.html">Subscription</a> request (e.g., unsupported channel type).</li>
  <li>If applicable, the server MAY send a <code class="language-plaintext highlighter-rouge">handshake</code> to the endpoint.</li>
  <li>If the Server sends a <code class="language-plaintext highlighter-rouge">handshake</code>, the endpoint should respond appropriately.</li>
</ol>

<p>Once the subscription is active, notifications will be sent according to the <a href="channels.html">Channel</a>.  Note that error states may occur, see <a href="errors.html">Handling Errors</a> for more information.</p>



</div>
        </div>    <!-- /inner-wrapper -->
      </div>    <!-- /row -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-content -->

  <script src="assets/js/jquery.js" type="text/javascript"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script src="assets/js/jquery-ui.min.js" type="text/javascript"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div igtool="footer" id="segment-footer" class="segment">    <!-- segment-footer -->
    <div class="container">    <!-- container -->

      <div class="inner-wrapper">
        <p><a name="a704c4f9-7349-4157-9785-039ee6f3dbe9">​</a>
          IG &copy; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="https://hl7.org/Special/committees/fiwg/index.cfm">HL7 FHIR Infrastructure WG</a>.  Package hl7.fhir.uv.subscriptions-backport#0.1.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://build.fhir.org/">FHIR 4.1.0</a>. Generated <span title="Fri, Oct 8, 2021 09:19-0500">2021-10-08</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)"></span>
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
               | <a style="color: #81BEF7" href="http://hl7.org/fhir/uv/subscriptions-backport/history.html" target="_blank">Version History  |
               <a style="color: #81BEF7" href="searchform.html" target="_blank">Search  |
                 <a rel="license" style="color: #81BEF7" href="http://build.fhir.org/license.html"><img src="cc0.png" alt="CC0" style="border-style: none;"/></a> |
                   <!-- <a style="color: #81BEF7" href="todo.html">Search</a> | --> 
                 <a style="color: #81BEF7" href="http://hl7.org/fhir-issues" target="_blank">Propose a change </a>

          
        
          <!-- /inner-wrapper -->
        <!-- /container -->
      <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
    <div class="container">    <!-- container -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-post-footer -->
  
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/bootstrap.min.js" type="text/javascript"> </script>
  <script src="assets/js/respond.min.js" type="text/javascript"> </script>
  <script src="assets/js/anchor.min.js" type="text/javascript"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
  <!-- feedback form - Google forms -->
  <!-- v0.1, 2021-01-09 -->



  <!-- / feedback form -->

    <!-- Analytics Below
  ================================================== -->
  


</a></a></p></div></div></div></body></html>