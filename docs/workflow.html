<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>HL7.FHIR.UV.SUBSCRIPTIONS-BACKPORT\Workflow - FHIR v4.1.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link rel="stylesheet" href="fhir.css"/>

      <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>

      <!-- Project extras -->
    <link rel="stylesheet" href="assets/css/project.css"/>
    <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
    <link rel="stylesheet" href="assets/css/jquery-ui.css"/>
  	<link rel="stylesheet" href="assets/css/prism.css"/>
      <!-- Placeholder for child template CSS declarations -->
    <link rel="stylesheet" href="assets/css/hl7.css"/>
    <link rel="stylesheet" href="assets/css/fhir.css"/>

    <script src="fhir-table-scripts.js" type="text/javascript"> </script>

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- [if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif] -->

      <!-- Favicons -->
    <link sizes="144x144" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link sizes="114x114" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link sizes="72x72" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"2.3"}
    h3,h4,h5,h6{--heading-prefix:"2.3"}</style>
    <div id="segment-header" class="segment">    <!-- segment-header -->
      <div class="container">    <!-- container -->
          <!-- Placeholder for child template header declarations -->

        <div id="hl7-nav">
          <a no-external="true" id="hl7-logo" href="http://hl7.org">
            <img src="assets/images/hl7-logo-header.png" alt="Visit the HL7 website" height="50"/>
          </a>
        </div>
        <div id="family-nav">
          <a no-external="true" id="family-logo" href="http://hl7.org/fhir"><img src="assets/images/fhir-logo-www.png" alt="Visit the FHIR website" height="50"/> </a>
        </div>
        <div id="hl7-search">
          <a no-external="true" id="hl7-search-lnk" href="searchform.html"><img src="assets/images/search.png" alt="Search FHIR"/></a>
        </div>


        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Subscriptions R5 Backport</span><br/>0.1.0 - ballot</p>
        </div>
      </div>   <!-- /container -->
    </div>    <!-- /segment-header -->

    <div id="segment-navbar" class="segment">    <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">    <!-- container -->
          <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
            <!-- status-bar -->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a href="http://build.fhir.org/index.html" class="navbar-brand hidden">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml -->

<ul class="nav navbar-nav">
  <li>
    <a href="toc.html">Contents</a>
  </li>
  <li>
    <a href="index.html">Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Specification
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="actors.html">Actors</a>
      </li>
      <li>
        <a href="components.html">Topic-Based Subscription Components</a>
      </li>
      <li>
        <a href="workflow.html">Workflow</a>
      </li>
      <li>
        <a href="channels.html">Channels</a>
      </li>
      <li>
        <a href="notifications.html">Notifications</a>
      </li>
      <li>
        <a href="payloads.html">Payload Types</a>
      </li>
      <li>
        <a href="conformance.html">Conformance</a>
      </li>
      <li>
        <a href="errors.html">Handling Errors</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="safety_security.html">Safety and Security</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Artifacts
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="artifacts.html#1">Capability Statements</a>
      </li>
      <li>
        <a href="artifacts.html#2">Operations</a>
      </li>
      <li>
        <a href="artifacts.html#3">Profiles</a>
      </li>
      <li>
        <a href="artifacts.html#4">Extensions</a>
      </li>
      <li>
        <a href="artifacts.html#5">Value Sets</a>
      </li>
      <li>
        <a href="artifacts.html#7">Examples</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="downloads.html">Downloads</a>
  </li>
</ul>
            </div>    <!-- /.nav-collapse -->
          </div>    <!-- /.container -->
        </nav>    <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
      </div>    <!-- /container -->
    </div>    <!-- /segment-navbar -->
      <!-- status-bar -->

    <div id="segment-breadcrumb" class="segment">    <!-- segment-breadcrumb -->
      <div class="container">    <!-- container -->
        <ul class="breadcrumb">
          <li><a href="toc.html"><b>Table of Contents</b></a></li><li><a href="specification.html"><b>Specification</b></a></li><li><b>Workflow</b></li>

        </ul>
      </div>    <!-- /container -->
    </div>    <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">    <!-- segment-content -->
      <div class="container">    <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
    <!-- ReleaseHeader --><p id="publish-box">Subscriptions R5 Backport - Local Development build (v0.1.0). See the <a href="http://hl7.org/fhir/uv/subscriptions-backport/history.html">Directory of published versions</a></p>  <!-- EndReleaseHeader -->
  <h2>Workflow</h2>
  









    <p>  <!-- white space is critical inside of capture --></p>
<div>
  <!-- do not remove - needed to prevent Jekyll from adding a p tag to any non block level element in the markdown. -->
</div>

<p>This section gives an overview of the workflow for both Servers and Clients to work with Subscriptions.  Each <a href="channels.html">channel</a> MAY vary slightly from this general overview - specifically around interactions involving the <code class="language-plaintext highlighter-rouge">Endpoint</code> (e.g., when using a <code class="language-plaintext highlighter-rouge">rest-hook</code> the client must pre-configure an HTTP endpoint which the server validates, but when using <code class="language-plaintext highlighter-rouge">websockets</code> the client simply connects to the server).</p>

<h3 id="creating-a-subscription">Creating a Subscription</h3>

<p>A workflow for creating a subscription is below:</p>

<figure>
    <!-- ?xml version="1.0" encoding="UTF-8" standalone="no"? --><svg contentStyleType="text/css" viewBox="0 0 880 1389" zoomAndPan="magnify" preserveAspectRatio="none" width="880px" style="width:880px;height:1389px;" contentScriptType="application/ecmascript" version="1.1" height="1389px"><defs><filter width="300%" x="-1" y="-1" id="f1dt7o4rh9xbzu" height="300%"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix result="blurOut2" in="blurOut" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" type="matrix"></feColorMatrix><feOffset result="blurOut3" dx="4.0" dy="4.0" in="blurOut2"></feOffset><feBlend mode="normal" in="SourceGraphic" in2="blurOut3"></feBlend></filter></defs><g><rect filter="url(#f1dt7o4rh9xbzu)" width="385.5" x="10" y="62.6094" style="stroke:#000000;stroke-width:2.0;" fill="#FFFFFF" height="159.0283"></rect><rect filter="url(#f1dt7o4rh9xbzu)" width="856.5" x="10" y="235.6377" style="stroke:#000000;stroke-width:2.0;" fill="#FFFFFF" height="292.9463"></rect><rect width="856.5" x="10" y="257.9893" style="stroke:none;stroke-width:1.0;" fill="#FFFFFF" height="123.7305"></rect><rect width="856.5" x="10" y="381.7197" style="stroke:none;stroke-width:1.0;" fill="#FFFFFF" height="146.8643"></rect><rect filter="url(#f1dt7o4rh9xbzu)" width="856.5" x="10" y="542.584" style="stroke:#000000;stroke-width:2.0;" fill="#FFFFFF" height="781"></rect><rect width="856.5" x="10" y="564.9355" style="stroke:none;stroke-width:1.0;" fill="#FFFFFF" height="131.1611"></rect><rect width="856.5" x="10" y="696.0967" style="stroke:none;stroke-width:1.0;" fill="#FFFFFF" height="278.1631"></rect><rect width="856.5" x="10" y="974.2598" style="stroke:none;stroke-width:1.0;" fill="#FFFFFF" height="233.8115"></rect><rect width="856.5" x="10" y="1208.0713" style="stroke:none;stroke-width:1.0;" fill="#FFFFFF" height="115.5127"></rect><line y1="45.6094" x1="119" y2="664.0967" style="stroke:#A80036;stroke-width:1.0;" x2="119"></line><line y1="664.0967" x1="119" y2="696.0967" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="119"></line><line y1="696.0967" x1="119" y2="942.2598" style="stroke:#A80036;stroke-width:1.0;" x2="119"></line><line y1="942.2598" x1="119" y2="974.2598" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="119"></line><line y1="974.2598" x1="119" y2="1176.0713" style="stroke:#A80036;stroke-width:1.0;" x2="119"></line><line y1="1176.0713" x1="119" y2="1208.0713" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="119"></line><line y1="1208.0713" x1="119" y2="1340.584" style="stroke:#A80036;stroke-width:1.0;" x2="119"></line><line y1="45.6094" x1="467.5" y2="664.0967" style="stroke:#A80036;stroke-width:1.0;" x2="467.5"></line><line y1="664.0967" x1="467.5" y2="696.0967" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="467.5"></line><line y1="696.0967" x1="467.5" y2="942.2598" style="stroke:#A80036;stroke-width:1.0;" x2="467.5"></line><line y1="942.2598" x1="467.5" y2="974.2598" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="467.5"></line><line y1="974.2598" x1="467.5" y2="1176.0713" style="stroke:#A80036;stroke-width:1.0;" x2="467.5"></line><line y1="1176.0713" x1="467.5" y2="1208.0713" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="467.5"></line><line y1="1208.0713" x1="467.5" y2="1340.584" style="stroke:#A80036;stroke-width:1.0;" x2="467.5"></line><line y1="436.9072" x1="767.5" y2="664.0967" style="stroke:#A80036;stroke-width:1.0;" x2="767.5"></line><line y1="664.0967" x1="767.5" y2="696.0967" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="767.5"></line><line y1="696.0967" x1="767.5" y2="942.2598" style="stroke:#A80036;stroke-width:1.0;" x2="767.5"></line><line y1="942.2598" x1="767.5" y2="974.2598" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="767.5"></line><line y1="974.2598" x1="767.5" y2="1176.0713" style="stroke:#A80036;stroke-width:1.0;" x2="767.5"></line><line y1="1176.0713" x1="767.5" y2="1208.0713" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x2="767.5"></line><line y1="1208.0713" x1="767.5" y2="1340.584" style="stroke:#A80036;stroke-width:1.0;" x2="767.5"></line><rect filter="url(#f1dt7o4rh9xbzu)" width="95" x="70" y="5" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="79" font-size="14" textLength="77" y="28.5332" font-family="sans-serif" fill="#000000">FHIR Server</text><rect filter="url(#f1dt7o4rh9xbzu)" width="95" x="70" y="1339.584" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="79" font-size="14" textLength="77" y="1363.1172" font-family="sans-serif" fill="#000000">FHIR Server</text><rect filter="url(#f1dt7o4rh9xbzu)" width="54" x="438.5" y="5" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="447.5" font-size="14" textLength="36" y="28.5332" font-family="sans-serif" fill="#000000">Client</text><rect filter="url(#f1dt7o4rh9xbzu)" width="54" x="438.5" y="1339.584" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="447.5" font-size="14" textLength="36" y="1363.1172" font-family="sans-serif" fill="#000000">Client</text><rect filter="url(#f1dt7o4rh9xbzu)" width="74" x="728.5" y="1339.584" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="737.5" font-size="14" textLength="56" y="1363.1172" font-family="sans-serif" fill="#000000">Endpoint</text><path d="M10,62.6094 L205,62.6094 L205,74.6094 L195,84.6094 L10,84.6094 L10,62.6094 " style="stroke:#000000;stroke-width:1.0;" fill="#EEEEEE"></path><rect width="385.5" x="10" y="62.6094" style="stroke:#000000;stroke-width:2.0;" fill="none" height="159.0283"></rect><text font-weight="bold" lengthAdjust="spacing" x="27" font-size="13" textLength="146" y="79.1045" font-family="sans-serif" fill="#000000">Server Implementation</text><line y1="111.3125" x1="119.5" y2="111.3125" style="stroke:#A80036;stroke-width:1.0;" x2="161.5"></line><line y1="111.3125" x1="161.5" y2="124.3125" style="stroke:#A80036;stroke-width:1.0;" x2="161.5"></line><line y1="124.3125" x1="120.5" y2="124.3125" style="stroke:#A80036;stroke-width:1.0;" x2="161.5"></line><line y1="124.3125" x1="120.5" y2="120.3125" style="stroke:#A80036;stroke-width:1.0;" x2="130.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="7" y="104.4561" font-family="sans-serif" fill="#000000">1</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="238" y="104.4561" font-family="sans-serif" fill="#000000">Implement core Subscription functionality</text><line y1="200.6377" x1="119.5" y2="200.6377" style="stroke:#A80036;stroke-width:1.0;" x2="161.5"></line><line y1="200.6377" x1="161.5" y2="213.6377" style="stroke:#A80036;stroke-width:1.0;" x2="161.5"></line><line y1="213.6377" x1="120.5" y2="213.6377" style="stroke:#A80036;stroke-width:1.0;" x2="161.5"></line><line y1="213.6377" x1="120.5" y2="209.6377" style="stroke:#A80036;stroke-width:1.0;" x2="130.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="7" y="185.2944" font-family="sans-serif" fill="#000000">2</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="198" y="176.8076" font-family="sans-serif" fill="#000000">Implement topics and advertise via</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="136" y="192.7339" font-family="monospace" fill="#000000">SubscriptionTopic</text><text lengthAdjust="spacing" x="283.5" font-size="13" textLength="57" y="193.7813" font-family="sans-serif" fill="#000000">resources</text><path d="M10,235.6377 L200,235.6377 L200,247.6377 L190,257.6377 L10,257.6377 L10,235.6377 " style="stroke:#000000;stroke-width:1.0;" fill="#EEEEEE"></path><rect width="856.5" x="10" y="235.6377" style="stroke:#000000;stroke-width:2.0;" fill="none" height="292.9463"></rect><text font-weight="bold" lengthAdjust="spacing" x="27" font-size="13" textLength="141" y="252.1328" font-family="sans-serif" fill="#000000">Client Implementation</text><line y1="258.9893" x1="10" y2="258.9893" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="866.5"></line><text font-weight="bold" lengthAdjust="spacing" x="17" font-size="11" textLength="130" y="272.4082" font-family="sans-serif" fill="#000000">[Client Topic Discovery]</text><line y1="321.7725" x1="119.5" y2="317.7725" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="321.7725" x1="119.5" y2="325.7725" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="321.7725" x1="119.5" y2="321.7725" style="stroke:#A80036;stroke-width:1.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="138.5" font-size="13" textLength="7" y="306.1182" font-family="sans-serif" fill="#000000">3</text><text lengthAdjust="spacing" x="153.5" font-size="13" textLength="131" y="297.9424" font-family="sans-serif" fill="#000000">Search for a supported</text><text lengthAdjust="spacing" x="288.5" font-size="13" textLength="136" y="296.895" font-family="monospace" fill="#000000">SubscriptionTopic</text><text lengthAdjust="spacing" x="424.5" font-size="13" textLength="34" y="297.9424" font-family="sans-serif" fill="#000000">, e.g.:</text><text lengthAdjust="spacing" x="153.5" font-size="13" textLength="272" y="313.8687" font-family="monospace" fill="#000000">GET&nbsp;.../SubscriptionTopic?[params]</text><line y1="373.7197" x1="465.5" y2="369.7197" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="373.7197" x1="465.5" y2="377.7197" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="373.7197" x1="119.5" y2="373.7197" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="7" y="358.0654" font-family="sans-serif" fill="#000000">4</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="48" y="348.8423" font-family="monospace" fill="#000000">Bundle</text><text lengthAdjust="spacing" x="195.5" font-size="13" textLength="80" y="349.8896" font-family="sans-serif" fill="#000000">with matching</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="136" y="365.8159" font-family="monospace" fill="#000000">SubscriptionTopic</text><text lengthAdjust="spacing" x="283.5" font-size="13" textLength="57" y="366.8633" font-family="sans-serif" fill="#000000">resources</text><line y1="382.7197" x1="10" y2="382.7197" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="866.5"></line><text font-weight="bold" lengthAdjust="spacing" x="17" font-size="11" textLength="162" y="396.1387" font-family="sans-serif" fill="#000000">[Client Subscription Request]</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="716.5,440.2588,726.5,444.2588,716.5,448.2588,720.5,444.2588"></polygon><line y1="444.2588" x1="467.5" y2="444.2588" style="stroke:#A80036;stroke-width:1.0;" x2="722.5"></line><text font-weight="bold" lengthAdjust="spacing" x="476.5" font-size="13" textLength="7" y="429.2266" font-family="sans-serif" fill="#000000">5</text><text lengthAdjust="spacing" x="491.5" font-size="13" textLength="168" y="421.0508" font-family="sans-serif" fill="#000000">Create, configure, or initialize</text><text lengthAdjust="spacing" x="491.5" font-size="13" textLength="137" y="437.4023" font-family="sans-serif" fill="#000000">the necessary Endpoint</text><rect filter="url(#f1dt7o4rh9xbzu)" width="74" x="728.5" y="401.6494" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="737.5" font-size="14" textLength="56" y="425.1826" font-family="sans-serif" fill="#000000">Endpoint</text><line y1="495.584" x1="119.5" y2="491.584" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="495.584" x1="119.5" y2="499.584" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="495.584" x1="119.5" y2="495.584" style="stroke:#A80036;stroke-width:1.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="138.5" font-size="13" textLength="7" y="480.2407" font-family="sans-serif" fill="#000000">6</text><text lengthAdjust="spacing" x="153.5" font-size="13" textLength="159" y="471.7539" font-family="sans-serif" fill="#000000">Create a Subscription, e.g.:</text><text lengthAdjust="spacing" x="153.5" font-size="13" textLength="168" y="487.6802" font-family="monospace" fill="#000000">POST&nbsp;.../Subscription</text><path d="M10,542.584 L344,542.584 L344,554.584 L334,564.584 L10,564.584 L10,542.584 " style="stroke:#000000;stroke-width:1.0;" fill="#EEEEEE"></path><rect width="856.5" x="10" y="542.584" style="stroke:#000000;stroke-width:2.0;" fill="none" height="781"></rect><text font-weight="bold" lengthAdjust="spacing" x="27" font-size="13" textLength="285" y="559.0791" font-family="sans-serif" fill="#000000">Server Accepting or Rejecting a Subscription</text><line y1="565.9355" x1="10" y2="565.9355" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="866.5"></line><text font-weight="bold" lengthAdjust="spacing" x="17" font-size="11" textLength="220" y="579.3545" font-family="sans-serif" fill="#000000">[Valid Subscription, without Handshake]</text><line y1="611.7451" x1="465.5" y2="607.7451" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="611.7451" x1="465.5" y2="615.7451" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="611.7451" x1="119.5" y2="611.7451" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="7" y="604.5776" font-family="sans-serif" fill="#000000">7</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="107" y="604.8887" font-family="sans-serif" fill="#000000">Success: status =</text><text lengthAdjust="spacing" x="254.5" font-size="13" textLength="48" y="603.8413" font-family="monospace" fill="#000000">active</text><path filter="url(#f1dt7o4rh9xbzu)" d="M124,624.7451 L124,654.7451 L264,654.7451 L264,634.7451 L254,624.7451 L124,624.7451 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M254,624.7451 L254,634.7451 L264,634.7451 L254,624.7451 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="132" font-size="13" textLength="115" y="645.2402" font-family="sans-serif" fill="#000000">Send notifications...</text><line y1="697.0967" x1="10" y2="697.0967" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="866.5"></line><text font-weight="bold" lengthAdjust="spacing" x="17" font-size="11" textLength="252" y="710.5156" font-family="sans-serif" fill="#000000">[Valid Subscription, with Handshake Success]</text><line y1="742.9063" x1="465.5" y2="738.9063" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="742.9063" x1="465.5" y2="746.9063" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="742.9063" x1="119.5" y2="742.9063" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="7" y="735.7388" font-family="sans-serif" fill="#000000">8</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="107" y="736.0498" font-family="sans-serif" fill="#000000">Success: status =</text><text lengthAdjust="spacing" x="254.5" font-size="13" textLength="72" y="735.0024" font-family="monospace" fill="#000000">requested</text><line y1="777.2578" x1="765.5" y2="773.2578" style="stroke:#A80036;stroke-width:1.0;" x2="755.5"></line><line y1="777.2578" x1="765.5" y2="781.2578" style="stroke:#A80036;stroke-width:1.0;" x2="755.5"></line><line y1="777.2578" x1="119.5" y2="777.2578" style="stroke:#A80036;stroke-width:1.0;" x2="766.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="7" y="770.4014" font-family="sans-serif" fill="#000000">9</text><text lengthAdjust="spacing" x="143.5" font-size="13" textLength="65" y="770.4014" font-family="sans-serif" fill="#000000">Handshake</text><line y1="828.583" x1="119.5" y2="824.583" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="828.583" x1="119.5" y2="832.583" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="828.583" x1="119.5" y2="828.583" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="766.5"></line><text font-weight="bold" lengthAdjust="spacing" x="138.5" font-size="13" textLength="14" y="813.2397" font-family="sans-serif" fill="#000000">10</text><text lengthAdjust="spacing" x="160.5" font-size="13" textLength="85" y="804.7529" font-family="sans-serif" fill="#000000">Success, e.g.:</text><text lengthAdjust="spacing" x="160.5" font-size="13" textLength="56" y="820.6792" font-family="monospace" fill="#000000">200:&nbsp;OK</text><path filter="url(#f1dt7o4rh9xbzu)" d="M124,841.583 L124,888.583 L357,888.583 L357,851.583 L347,841.583 L124,841.583 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M347,841.583 L347,851.583 L357,851.583 L347,841.583 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="132" font-size="13" textLength="121" y="862.0781" font-family="sans-serif" fill="#000000">Update Subscription:</text><text lengthAdjust="spacing" x="132" font-size="13" textLength="208" y="878.0044" font-family="monospace" fill="#000000">Subscription.status:&nbsp;error</text><path filter="url(#f1dt7o4rh9xbzu)" d="M124,902.9082 L124,932.9082 L264,932.9082 L264,912.9082 L254,902.9082 L124,902.9082 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M254,902.9082 L254,912.9082 L264,912.9082 L254,902.9082 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="132" font-size="13" textLength="115" y="923.4033" font-family="sans-serif" fill="#000000">Send notifications...</text><line y1="975.2598" x1="10" y2="975.2598" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="866.5"></line><text font-weight="bold" lengthAdjust="spacing" x="17" font-size="11" textLength="242" y="988.6787" font-family="sans-serif" fill="#000000">[Valid Subscription, with Handshake Failure]</text><line y1="1021.0693" x1="465.5" y2="1017.0693" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="1021.0693" x1="465.5" y2="1025.0693" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="1021.0693" x1="119.5" y2="1021.0693" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="14" y="1013.9019" font-family="sans-serif" fill="#000000">11</text><text lengthAdjust="spacing" x="150.5" font-size="13" textLength="107" y="1014.2129" font-family="sans-serif" fill="#000000">Success: status =</text><text lengthAdjust="spacing" x="261.5" font-size="13" textLength="72" y="1013.1655" font-family="monospace" fill="#000000">requested</text><line y1="1055.4209" x1="765.5" y2="1051.4209" style="stroke:#A80036;stroke-width:1.0;" x2="755.5"></line><line y1="1055.4209" x1="765.5" y2="1059.4209" style="stroke:#A80036;stroke-width:1.0;" x2="755.5"></line><line y1="1055.4209" x1="119.5" y2="1055.4209" style="stroke:#A80036;stroke-width:1.0;" x2="766.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="14" y="1048.5645" font-family="sans-serif" fill="#000000">12</text><text lengthAdjust="spacing" x="150.5" font-size="13" textLength="65" y="1048.5645" font-family="sans-serif" fill="#000000">Handshake</text><line y1="1106.7461" x1="119.5" y2="1102.7461" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="1106.7461" x1="119.5" y2="1110.7461" style="stroke:#A80036;stroke-width:1.0;" x2="129.5"></line><line y1="1106.7461" x1="119.5" y2="1106.7461" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="766.5"></line><text font-weight="bold" lengthAdjust="spacing" x="138.5" font-size="13" textLength="14" y="1091.4028" font-family="sans-serif" fill="#000000">13</text><text lengthAdjust="spacing" x="160.5" font-size="13" textLength="73" y="1082.916" font-family="sans-serif" fill="#000000">Failure, e.g.:</text><text lengthAdjust="spacing" x="160.5" font-size="13" textLength="112" y="1098.8423" font-family="monospace" fill="#000000">404:&nbsp;Not&nbsp;Found</text><path filter="url(#f1dt7o4rh9xbzu)" d="M124,1119.7461 L124,1166.7461 L357,1166.7461 L357,1129.7461 L347,1119.7461 L124,1119.7461 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M347,1119.7461 L347,1129.7461 L357,1129.7461 L347,1119.7461 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="132" font-size="13" textLength="121" y="1140.2412" font-family="sans-serif" fill="#000000">Update Subscription:</text><text lengthAdjust="spacing" x="132" font-size="13" textLength="208" y="1156.1675" font-family="monospace" fill="#000000">Subscription.status:&nbsp;error</text><line y1="1209.0713" x1="10" y2="1209.0713" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="866.5"></line><text font-weight="bold" lengthAdjust="spacing" x="17" font-size="11" textLength="116" y="1222.4902" font-family="sans-serif" fill="#000000">[Invalid Subscription]</text><line y1="1271.2324" x1="465.5" y2="1267.2324" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="1271.2324" x1="465.5" y2="1275.2324" style="stroke:#A80036;stroke-width:1.0;" x2="455.5"></line><line y1="1271.2324" x1="119.5" y2="1271.2324" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="466.5"></line><text font-weight="bold" lengthAdjust="spacing" x="128.5" font-size="13" textLength="14" y="1255.8892" font-family="sans-serif" fill="#000000">14</text><text lengthAdjust="spacing" x="150.5" font-size="13" textLength="73" y="1247.4023" font-family="sans-serif" fill="#000000">Failure, e.g.:</text><text lengthAdjust="spacing" x="150.5" font-size="13" textLength="128" y="1263.3286" font-family="monospace" fill="#000000">400:&nbsp;Bad&nbsp;Request</text><path filter="url(#f1dt7o4rh9xbzu)" d="M124,1284.2324 L124,1314.2324 L313,1314.2324 L313,1294.2324 L303,1284.2324 L124,1284.2324 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M303,1284.2324 L303,1294.2324 L313,1294.2324 L303,1284.2324 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="132" font-size="13" textLength="164" y="1304.7275" font-family="sans-serif" fill="#000000">No subscription was created</text></g></svg>
  <figcaption>Sequence diagram of creating a FHIR Subscription</figcaption>
</figure>

<ol>
  <li>Server implements the core functionality required for subscriptions (see <a href="conformance.html">Conformance</a>).</li>
  <li>Server implements one or more <a href="http://hl7.org/fhir/R4/subscriptiontopic.html">SubscriptionTopic</a> resources.  Implementation is specific to each topic, and will vary between servers.</li>
  <li>Client asks the server for the list of supported <a href="http://hl7.org/fhir/R4/subscriptiontopic.html">SubscriptionTopic</a> resources, via querying the resource.</li>
  <li>Server responds with a <a href="http://hl7.org/fhir/R4/bundle.html#searchset">searchset Bundle</a>.</li>
  <li>Client ensures that the endpoint is prepared (if applicable - see <a href="channels.html">Channels</a>).</li>
  <li>Client requests a <a href="http://hl7.org/fhir/R4/subscription.html">Subscription</a> (e.g., via <code class="language-plaintext highlighter-rouge">POST</code>, <code class="language-plaintext highlighter-rouge">PUT</code>, etc.).</li>
  <li>Server MAY accept the <a href="http://hl7.org/fhir/R4/subscription.html">Subscription</a> request (e.g., supported channel and payload).</li>
  <li>Server MAY reject the <a href="http://hl7.org/fhir/R4/subscription.html">Subscription</a> request (e.g., unsupported channel type).</li>
  <li>If applicable, the server MAY send a <code class="language-plaintext highlighter-rouge">handshake</code> to the endpoint.</li>
  <li>If the Server sends a <code class="language-plaintext highlighter-rouge">handshake</code>, the endpoint should respond appropriately.</li>
</ol>

<p>Once the subscription is active, notifications will be sent according to the <a href="channels.html">Channel</a>.  Note that error states may occur, see <a href="errors.html">Handling Errors</a> for more information.</p>



</div>
        </div>    <!-- /inner-wrapper -->
      </div>    <!-- /row -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-content -->

  <script src="assets/js/jquery.js" type="text/javascript"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script src="assets/js/jquery-ui.min.js" type="text/javascript"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div igtool="footer" id="segment-footer" class="segment">    <!-- segment-footer -->
    <div class="container">    <!-- container -->

      <div class="inner-wrapper">
        <p><a name="e3769e45-2038-447e-827f-afdcb5555e8d">​</a>
          IG &copy; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="https://hl7.org/Special/committees/fiwg/index.cfm">HL7 FHIR Infrastructure WG</a>.  Package hl7.fhir.uv.subscriptions-backport#0.1.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://build.fhir.org/">FHIR 4.1.0</a>. Generated <span title="Tue, Oct 19, 2021 10:48-0500">2021-10-19</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)"></span>
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
               | <a style="color: #81BEF7" href="http://hl7.org/fhir/uv/subscriptions-backport/history.html" target="_blank">Version History  |
               <a style="color: #81BEF7" href="searchform.html" target="_blank">Search  |
                 <a rel="license" style="color: #81BEF7" href="http://build.fhir.org/license.html"><img src="cc0.png" alt="CC0" style="border-style: none;"/></a> |
                   <!-- <a style="color: #81BEF7" href="todo.html">Search</a> | --> 
                 <a style="color: #81BEF7" href="http://hl7.org/fhir-issues" target="_blank">Propose a change </a>

          
        
          <!-- /inner-wrapper -->
        <!-- /container -->
      <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
    <div class="container">    <!-- container -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-post-footer -->
  
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/bootstrap.min.js" type="text/javascript"> </script>
  <script src="assets/js/respond.min.js" type="text/javascript"> </script>
  <script src="assets/js/anchor.min.js" type="text/javascript"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
  <!-- feedback form - Google forms -->
  <!-- v0.1, 2021-01-09 -->



  <!-- / feedback form -->

    <!-- Analytics Below
  ================================================== -->
  


</a></a></p></div></div></div></body></html>