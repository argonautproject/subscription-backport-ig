<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>HL7.FHIR.UV.SUBSCRIPTIONS-BACKPORT\Payload Types - FHIR v4.1.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link rel="stylesheet" href="fhir.css"/>

      <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>

      <!-- Project extras -->
    <link rel="stylesheet" href="assets/css/project.css"/>
    <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
    <link rel="stylesheet" href="assets/css/jquery-ui.css"/>
  	<link rel="stylesheet" href="assets/css/prism.css"/>
      <!-- Placeholder for child template CSS declarations -->
    <link rel="stylesheet" href="assets/css/hl7.css"/>
    <link rel="stylesheet" href="assets/css/fhir.css"/>

    <script src="fhir-table-scripts.js" type="text/javascript"> </script>

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- [if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif] -->

      <!-- Favicons -->
    <link sizes="144x144" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link sizes="114x114" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link sizes="72x72" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"2.6"}
    h3,h4,h5,h6{--heading-prefix:"2.6"}</style>
    <div id="segment-header" class="segment">    <!-- segment-header -->
      <div class="container">    <!-- container -->
          <!-- Placeholder for child template header declarations -->

        <div id="hl7-nav">
          <a no-external="true" id="hl7-logo" href="http://hl7.org">
            <img src="assets/images/hl7-logo-header.png" alt="Visit the HL7 website" height="50"/>
          </a>
        </div>
        <div id="family-nav">
          <a no-external="true" id="family-logo" href="http://hl7.org/fhir"><img src="assets/images/fhir-logo-www.png" alt="Visit the FHIR website" height="50"/> </a>
        </div>
        <div id="hl7-search">
          <a no-external="true" id="hl7-search-lnk" href="searchform.html"><img src="assets/images/search.png" alt="Search FHIR"/></a>
        </div>


        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Subscriptions R5 Backport</span><br/>0.1.0 - ballot</p>
        </div>
      </div>   <!-- /container -->
    </div>    <!-- /segment-header -->

    <div id="segment-navbar" class="segment">    <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">    <!-- container -->
          <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
            <!-- status-bar -->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a href="http://build.fhir.org/index.html" class="navbar-brand hidden">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml -->

<ul class="nav navbar-nav">
  <li>
    <a href="toc.html">Contents</a>
  </li>
  <li>
    <a href="index.html">Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Specification
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="actors.html">Actors</a>
      </li>
      <li>
        <a href="components.html">Topic-Based Subscription Components</a>
      </li>
      <li>
        <a href="workflow.html">Workflow</a>
      </li>
      <li>
        <a href="channels.html">Channels</a>
      </li>
      <li>
        <a href="notifications.html">Notifications</a>
      </li>
      <li>
        <a href="payloads.html">Payload Types</a>
      </li>
      <li>
        <a href="conformance.html">Conformance</a>
      </li>
      <li>
        <a href="errors.html">Handling Errors</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="safety_security.html">Safety and Security</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Artifacts
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="artifacts.html#1">Capability Statements</a>
      </li>
      <li>
        <a href="artifacts.html#2">Operations</a>
      </li>
      <li>
        <a href="artifacts.html#3">Profiles</a>
      </li>
      <li>
        <a href="artifacts.html#4">Extensions</a>
      </li>
      <li>
        <a href="artifacts.html#5">Value Sets</a>
      </li>
      <li>
        <a href="artifacts.html#7">Examples</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="downloads.html">Downloads</a>
  </li>
</ul>
            </div>    <!-- /.nav-collapse -->
          </div>    <!-- /.container -->
        </nav>    <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
      </div>    <!-- /container -->
    </div>    <!-- /segment-navbar -->
      <!-- status-bar -->

    <div id="segment-breadcrumb" class="segment">    <!-- segment-breadcrumb -->
      <div class="container">    <!-- container -->
        <ul class="breadcrumb">
          <li><a href="toc.html"><b>Table of Contents</b></a></li><li><a href="specification.html"><b>Specification</b></a></li><li><b>Payload Types</b></li>

        </ul>
      </div>    <!-- /container -->
    </div>    <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">    <!-- segment-content -->
      <div class="container">    <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
    <!-- ReleaseHeader --><p id="publish-box">Subscriptions R5 Backport - Local Development build (v0.1.0). See the <a href="http://hl7.org/fhir/uv/subscriptions-backport/history.html">Directory of published versions</a></p>  <!-- EndReleaseHeader -->
  <h2>Payload Types</h2>
  









    <p>  <!-- white space is critical inside of capture --></p>
<div>
  <!-- do not remove - needed to prevent Jekyll from adding a p tag to any non block level element in the markdown. -->
</div>
<h3 id="payload-types">Payload Types</h3>

<p>There are three options available when specifying the contents of a Notification: <code class="language-plaintext highlighter-rouge">empty</code>, <code class="language-plaintext highlighter-rouge">id-only</code>, and <code class="language-plaintext highlighter-rouge">full-resource</code>. These options change the level of detail conveyed in the notification Bundle.</p>

<p>When deciding which payload types to support, systems SHOULD consider both ease of processing and security of PHI. Clients often prefer the highest amount of data in notifications (e.g., <code class="language-plaintext highlighter-rouge">full-resource</code>) in order to reduce their processing burden.  Servers often prefer the lowest amount of data in notifications (e.g., <code class="language-plaintext highlighter-rouge">empty</code>) in order to mitigate the risk of information leakage (though also need to balance this against additional load caused by client queries). In practice, <code class="language-plaintext highlighter-rouge">id-only</code> provides a good balance between security and performance for many real-world scenarios.</p>

<p>Some security guidance is included below, however implementers SHOULD use the minimum level of detail consistent with the use case and SHOULD conduct a security review to determine how the payload and channel type interact with respect to data security.</p>

<figure>
    <!-- ?xml version="1.0" encoding="UTF-8" standalone="no"? --><svg contentStyleType="text/css" viewBox="0 0 643 399" zoomAndPan="magnify" preserveAspectRatio="none" width="643px" style="width:643px;height:399px;" contentScriptType="application/ecmascript" version="1.1" height="399px"><defs><filter width="300%" x="-1" y="-1" id="ff7c0zwsqi2r9" height="300%"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix result="blurOut2" in="blurOut" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" type="matrix"></feColorMatrix><feOffset result="blurOut3" dx="4.0" dy="4.0" in="blurOut2"></feOffset><feBlend mode="normal" in="SourceGraphic" in2="blurOut3"></feBlend></filter></defs><g><line y1="45.6094" x1="84.5" y2="349.666" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x2="84.5"></line><line y1="45.6094" x1="249.5" y2="349.666" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x2="249.5"></line><line y1="45.6094" x1="384" y2="349.666" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x2="384"></line><line y1="45.6094" x1="543" y2="349.666" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x2="543"></line><rect filter="url(#ff7c0zwsqi2r9)" width="95" x="35" y="5" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="44" font-size="14" textLength="77" y="28.5332" font-family="sans-serif" fill="#000000">FHIR Server</text><rect filter="url(#ff7c0zwsqi2r9)" width="57" x="219" y="5" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="228" font-size="14" textLength="39" y="28.5332" font-family="sans-serif" fill="#000000">Empty</text><rect filter="url(#ff7c0zwsqi2r9)" width="64" x="350" y="5" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="359" font-size="14" textLength="46" y="28.5332" font-family="sans-serif" fill="#000000">ID Only</text><rect filter="url(#ff7c0zwsqi2r9)" width="106" x="488" y="5" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="497" font-size="14" textLength="88" y="28.5332" font-family="sans-serif" fill="#000000">Full Resource</text><rect filter="url(#ff7c0zwsqi2r9)" width="95" x="35" y="349.666" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="44" font-size="14" textLength="77" y="373.1992" font-family="sans-serif" fill="#000000">FHIR Server</text><rect filter="url(#ff7c0zwsqi2r9)" width="57" x="219" y="349.666" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="228" font-size="14" textLength="39" y="373.1992" font-family="sans-serif" fill="#000000">Empty</text><rect filter="url(#ff7c0zwsqi2r9)" width="64" x="350" y="349.666" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="359" font-size="14" textLength="46" y="373.1992" font-family="sans-serif" fill="#000000">ID Only</text><rect filter="url(#ff7c0zwsqi2r9)" width="106" x="488" y="349.666" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="35.6094"></rect><text lengthAdjust="spacing" x="497" font-size="14" textLength="88" y="373.1992" font-family="sans-serif" fill="#000000">Full Resource</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="616,76.583,626,80.583,616,84.583,620,80.583"></polygon><line y1="80.583" x1="84.5" y2="80.583" style="stroke:#A80036;stroke-width:1.0;" x2="622"></line><text lengthAdjust="spacing" x="93.5" font-size="13" textLength="30" y="73.7266" font-family="sans-serif" fill="#000000">Send</text><text lengthAdjust="spacing" x="127.5" font-size="13" textLength="144" y="72.6792" font-family="monospace" fill="#000000">event-notification</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="237.5,111.5566,247.5,115.5566,237.5,119.5566,241.5,115.5566"></polygon><line y1="115.5566" x1="181.5" y2="115.5566" style="stroke:#A80036;stroke-width:1.0;" x2="243.5"></line><text lengthAdjust="spacing" x="190.5" font-size="13" textLength="40" y="107.6528" font-family="monospace" fill="#000000">empty</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="372,111.5566,382,115.5566,372,119.5566,376,115.5566"></polygon><line y1="115.5566" x1="300" y2="115.5566" style="stroke:#A80036;stroke-width:1.0;" x2="378"></line><text lengthAdjust="spacing" x="309" font-size="13" textLength="56" y="107.6528" font-family="monospace" fill="#000000">id-only</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="531,111.5566,541,115.5566,531,119.5566,535,115.5566"></polygon><line y1="115.5566" x1="411" y2="115.5566" style="stroke:#A80036;stroke-width:1.0;" x2="537"></line><text lengthAdjust="spacing" x="420" font-size="13" textLength="104" y="107.6528" font-family="monospace" fill="#000000">full-resource</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="95.5,145.9082,85.5,149.9082,95.5,153.9082,91.5,149.9082"></polygon><line y1="149.9082" x1="89.5" y2="149.9082" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="248.5"></line><text lengthAdjust="spacing" x="103.5" font-size="13" textLength="84" y="143.0518" font-family="sans-serif" fill="#000000">HTTP 200: OK</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="95.5,145.9082,85.5,149.9082,95.5,153.9082,91.5,149.9082"></polygon><line y1="149.9082" x1="89.5" y2="149.9082" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="383"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="95.5,145.9082,85.5,149.9082,95.5,153.9082,91.5,149.9082"></polygon><line y1="149.9082" x1="89.5" y2="149.9082" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="542"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="95.5,180.2598,85.5,184.2598,95.5,188.2598,91.5,184.2598"></polygon><line y1="184.2598" x1="89.5" y2="184.2598" style="stroke:#A80036;stroke-width:1.0;" x2="248.5"></line><text lengthAdjust="spacing" x="103.5" font-size="13" textLength="74" y="177.4033" font-family="sans-serif" fill="#000000">FHIR Search</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="237.5,214.6113,247.5,218.6113,237.5,222.6113,241.5,218.6113"></polygon><line y1="218.6113" x1="84.5" y2="218.6113" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="243.5"></line><text lengthAdjust="spacing" x="93.5" font-size="13" textLength="83" y="211.7549" font-family="sans-serif" fill="#000000">Query Results</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="95.5,248.9629,85.5,252.9629,95.5,256.9629,91.5,252.9629"></polygon><line y1="252.9629" x1="89.5" y2="252.9629" style="stroke:#A80036;stroke-width:1.0;" x2="248.5"></line><text lengthAdjust="spacing" x="103.5" font-size="13" textLength="132" y="246.1064" font-family="sans-serif" fill="#000000">Fetch FHIR Resources</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="95.5,248.9629,85.5,252.9629,95.5,256.9629,91.5,252.9629"></polygon><line y1="252.9629" x1="89.5" y2="252.9629" style="stroke:#A80036;stroke-width:1.0;" x2="383"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="237.5,283.3145,247.5,287.3145,237.5,291.3145,241.5,287.3145"></polygon><line y1="287.3145" x1="84.5" y2="287.3145" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="243.5"></line><text lengthAdjust="spacing" x="93.5" font-size="13" textLength="137" y="280.458" font-family="sans-serif" fill="#000000">Return FHIR Resources</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="372,283.3145,382,287.3145,372,291.3145,376,287.3145"></polygon><line y1="287.3145" x1="84.5" y2="287.3145" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x2="378"></line><path filter="url(#ff7c0zwsqi2r9)" d="M10,300.3145 L10,330.3145 L155,330.3145 L155,310.3145 L145,300.3145 L10,300.3145 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M145,300.3145 L145,310.3145 L155,310.3145 L145,300.3145 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="18" font-size="13" textLength="120" y="320.8096" font-family="sans-serif" fill="#000000">Additional Requests:</text><path filter="url(#ff7c0zwsqi2r9)" d="M231.5,300.3145 L231.5,330.3145 L263.5,330.3145 L263.5,310.3145 L253.5,300.3145 L231.5,300.3145 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M253.5,300.3145 L253.5,310.3145 L263.5,310.3145 L253.5,300.3145 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text font-weight="bold" lengthAdjust="spacing" x="239.5" font-size="13" textLength="7" y="320.8096" font-family="sans-serif" fill="#000000">2</text><path filter="url(#ff7c0zwsqi2r9)" d="M366,300.3145 L366,330.3145 L398,330.3145 L398,310.3145 L388,300.3145 L366,300.3145 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M388,300.3145 L388,310.3145 L398,310.3145 L388,300.3145 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text font-weight="bold" lengthAdjust="spacing" x="374" font-size="13" textLength="7" y="320.8096" font-family="sans-serif" fill="#000000">1</text><path filter="url(#ff7c0zwsqi2r9)" d="M525,300.3145 L525,330.3145 L557,330.3145 L557,310.3145 L547,300.3145 L525,300.3145 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M547,300.3145 L547,310.3145 L557,310.3145 L547,300.3145 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text font-weight="bold" lengthAdjust="spacing" x="533" font-size="13" textLength="7" y="320.8096" font-family="sans-serif" fill="#000000">0</text></g></svg>
  <figcaption>Diagram showing the different round-trips based on payload types</figcaption>
</figure>

<p>If a server will not honor a payload type (e.g., will not send <code class="language-plaintext highlighter-rouge">full-resource</code> over HTTP), it SHOULD reject the Subscription request, but the server MAY accept the subscription with modifications.</p>

<h4 id="empty">Empty</h4>

<p>With the content type of <code class="language-plaintext highlighter-rouge">empty</code>, no information about the resources involved in triggering the notification is available via the subscription channel. This mitigates many security concerns by both removing most PHI from the notification and allows servers to consolidate authorization and authentication logic. When the subscriber receives a notification of this type, it may query the server to fetch all the relevant resources based on the SubscriptionTopic and applicable filters. The client might include a <code class="language-plaintext highlighter-rouge">_since=</code> query parameter, supplying its last query timestamp to retrieve only the most recent resources. For example, if the notification is for a topic about patient admission, the subscriber will generally query for recent <code class="language-plaintext highlighter-rouge">Encounters</code> for a patient or group of patients, then fetch them as needed.</p>

<p>When the content type is <code class="language-plaintext highlighter-rouge">empty</code>, notification bundles SHALL not contain <code class="language-plaintext highlighter-rouge">Bundle.entry</code> elements other than the <code class="language-plaintext highlighter-rouge">SubscriptionStatus</code> used to convey status information about the notification.</p>

<p>From a security perspective, <code class="language-plaintext highlighter-rouge">empty</code> payloads expose the lowest risk, since they contain no PHI. The trade-off is that clients need to perform queries against the server in order to discover what events have occured, costing bot client and server additional time, data transfer, and processing.</p>

<h4 id="id-only">Id Only</h4>

<p>With the content type of <code class="language-plaintext highlighter-rouge">id-only</code>, the resources involved in triggering the notification are only available through other channels (e.g., REST API), but notifications include URLs which can be used to access those resources. This allows servers to consolidate authorization and authentication logic, while removing the need for expensive queries by subscribers. When a subscriber receives a notification of this type, it may directly fetch all the relevant resources using the supplied resource ids. For example, if the notification is for a topic about patient admission, the subscriber may fetch the <code class="language-plaintext highlighter-rouge">Encounter</code> resources for a patient or group of patients using URLs included in the notification.</p>

<p>When the content type is <code class="language-plaintext highlighter-rouge">id-only</code>, notification bundles SHALL contain, in addition to the <code class="language-plaintext highlighter-rouge">SubscriptionStatus</code> used to convey status information, at least one <code class="language-plaintext highlighter-rouge">Bundle.entry</code> for each resource relevant to the notification. For example, a notification for a topic based on <code class="language-plaintext highlighter-rouge">Encounter</code> SHALL include a reference to the <code class="language-plaintext highlighter-rouge">Encounter</code> and MAY include additional resources deemed relevant (e.g., the linked <code class="language-plaintext highlighter-rouge">Patient</code>).</p>

<p>Each <code class="language-plaintext highlighter-rouge">Bundle.entry</code> for <code class="language-plaintext highlighter-rouge">id-only</code> notification SHALL contain a relevant resource URL in the <code class="language-plaintext highlighter-rouge">fullUrl</code> and <code class="language-plaintext highlighter-rouge">request</code> elements, as is requred for <code class="language-plaintext highlighter-rouge">history</code> bundles.</p>

<p>From a security perspective, <code class="language-plaintext highlighter-rouge">id-only</code> payloads have a low risk of exposing PHI. While there is no PHI directly in the payload, some links to resources can be considered PHI. For example, if a system contains <code class="language-plaintext highlighter-rouge">Medication</code> resources using <code class="language-plaintext highlighter-rouge">RxNorm</code> codes as ids (e.g., <code class="language-plaintext highlighter-rouge">Medication/RX10359383</code>), a notification including a reference to that medication would communicate the patient has some interaction with <code class="language-plaintext highlighter-rouge">ciprofloxacin 500 mg 24-hour extended release tablets</code>.</p>

<h4 id="full-resource">Full Resource</h4>

<p>With the content type of <code class="language-plaintext highlighter-rouge">full-resource</code>, the resources involved in triggering the notification are included in the notification bundle. When a subscriber receives a notification of this type, resources are already present in the bundle, though the subscriber may need to fetch additional resources from the server. For example, the if the notification is for a topic about patient admission, the subscriber may require related <code class="language-plaintext highlighter-rouge">Observation</code> resources.</p>

<p>When the content type is <code class="language-plaintext highlighter-rouge">full-resource</code>, notification bundles SHALL contain, in addition to the <code class="language-plaintext highlighter-rouge">SubscriptionStatus</code> for status information, at least one <code class="language-plaintext highlighter-rouge">Bundle.entry</code> for each resource relevant to the notification. For example, a notification for a topic based on <code class="language-plaintext highlighter-rouge">Encounter</code> SHALL include an <code class="language-plaintext highlighter-rouge">Encounter</code> and MAY include additional resources deemed relevant (e.g., the relevant <code class="language-plaintext highlighter-rouge">Patient</code>).</p>

<p>In most scenarios, each <code class="language-plaintext highlighter-rouge">Bundle.entry</code> for a <code class="language-plaintext highlighter-rouge">full-resource</code> notification SHALL contain a relevant resource in the <code class="language-plaintext highlighter-rouge">resource</code> element. In some scenarios, it is not possible to include the resource, in which case <code class="language-plaintext highlighter-rouge">entry.request</code> and/or <code class="language-plaintext highlighter-rouge">entry.response</code> are required. For example, in the case of a notification about a deleted resource, the server may no longer have access to the resource. In this case, information in the <code class="language-plaintext highlighter-rouge">entry.response</code> is critical for a subscriber to process the notification (e.g., the <code class="language-plaintext highlighter-rouge">etag</code>).</p>

<p>From a security perspecitve, <code class="language-plaintext highlighter-rouge">full-resource</code> payloads should only be used when the channel is secure - notifications <em>will</em> contain PHI.</p>



</div>
        </div>    <!-- /inner-wrapper -->
      </div>    <!-- /row -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-content -->

  <script src="assets/js/jquery.js" type="text/javascript"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script src="assets/js/jquery-ui.min.js" type="text/javascript"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div igtool="footer" id="segment-footer" class="segment">    <!-- segment-footer -->
    <div class="container">    <!-- container -->

      <div class="inner-wrapper">
        <p><a name="be4f80ac-8472-4c29-a3da-b1afd10c7eef">​</a>
          IG &copy; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="https://hl7.org/Special/committees/fiwg/index.cfm">HL7 FHIR Infrastructure WG</a>.  Package hl7.fhir.uv.subscriptions-backport#0.1.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://build.fhir.org/">FHIR 4.1.0</a>. Generated <span title="Tue, Nov 9, 2021 16:33-0600">2021-11-09</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)"></span>
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
               | <a style="color: #81BEF7" href="http://hl7.org/fhir/uv/subscriptions-backport/history.html" target="_blank">Version History  |
               <a style="color: #81BEF7" href="searchform.html" target="_blank">Search  |
                 <a rel="license" style="color: #81BEF7" href="http://build.fhir.org/license.html"><img src="cc0.png" alt="CC0" style="border-style: none;"/></a> |
                   <!-- <a style="color: #81BEF7" href="todo.html">Search</a> | --> 
                 <a style="color: #81BEF7" href="http://hl7.org/fhir-issues" target="_blank">Propose a change </a>

          
        
          <!-- /inner-wrapper -->
        <!-- /container -->
      <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
    <div class="container">    <!-- container -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-post-footer -->
  
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/bootstrap.min.js" type="text/javascript"> </script>
  <script src="assets/js/respond.min.js" type="text/javascript"> </script>
  <script src="assets/js/anchor.min.js" type="text/javascript"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
  <!-- feedback form - Google forms -->
  <!-- v0.1, 2021-01-09 -->



  <!-- / feedback form -->

    <!-- Analytics Below
  ================================================== -->
  


</a></a></p></div></div></div></body></html>